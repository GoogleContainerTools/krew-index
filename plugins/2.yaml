apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: "2"
spec:
  version: "v0.0.1"
  shortDescription: dumb file transfer to your labelled pods
  homepage: https://steady.supply/git/kubectl-2
  description: |
    it all starts with a configuration file

    spec:
      - namespace: xyz
        label: sync=me,src=py
        path: src:/app
        ignore:
          - *.tmp

    which specifes a namespace to work in, a label filter used to select pods
    and, of course, the local and remote paths involved and globs to be
    ignored.

    the local path is watched, and when a file changes, that file is streamed
    to all the pods matching the label specification.
  platforms:
    - selector:
        matchLabels:
          os: darwin
      uri: https://steady.supply/git/kubectl-2/release/v0.0.1/kubectl-2-v0.0.1-darwin-amd64.tar.gz
      sha256: "428f355fbee96dfb0a28c382c1d524f797c14eaef171b5fe2f3a815f6720067a"
      files:
        - from: "*"
          to:  "."
      bin: "kubectl-2"
    - selector:
        matchLabels:
          os: linux
      uri: https://steady.supply/git/kubectl-2/release/v0.0.1/kubectl-2-v0.0.1-linux-amd64.tar.gz
      sha256: "dda094a4aaa8f9351a147939435cb3ac30d4865cee225f11b122443f718f66ac"
      files:
        - from: "*"
          to:  "."
      bin: "kubectl-2"
    - selector:
        matchLabels:
          os: windows
      uri: https://steady.supply/git/kubectl-2/release/v0.0.1/kubectl-2-v0.0.1-windows-amd64.tar.gz
      sha256: "ca0fb0dccd1abdb43ef33fabae47651df7bd90a6612e3f288f33a32f488cef52"
      files:
        - from: "*"
          to:  "."
      bin: "kubectl-2.exe"
