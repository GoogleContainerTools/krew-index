apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: iexec
spec:
  version: "0.1.9"
  platforms:
  - selector:
      matchExpressions:
      - {key: os, operator: In, values: [linux]}
    uri: https://github.com/gabeduke/kubectl-iexec/releases/download/0.1.14/kubectl-iexec.1.14_Linux_x86_64.tar.gz
    sha256: "8d69b66309d31a5422ea742398751d9b9eacc2f4bd55b8673cb3f9e6bbbb4af9"
    files:
    - from: "/kubectl-iexec"
      to: "."
    bin: "./kubectl-iexec"
  - selector:
      matchExpressions:
      - {key: os, operator: In, values: [darwin]}
    uri: https://github.com/gabeduke/kubectl-iexec/releases/download/0.1.14/kubectl-iexec.1.14_Darwin_x86_64.tar.gz
    sha256: "e1c5524384fa5db09a84341ebd52bcfaa9d132fa341889c60ccb067335781d77"
    files:
    - from: "/kubectl-iexec"
      to: "."
    bin: "./kubectl-iexec"
  shortDescription: Interactive selection tool for `kubectl exec`
  homepage: https://github.com/gabeduke/kubectl-iexec
  description: |
    _          _               _   _        _
    | |        | |             | | | |      (_)
    | | ___   _| |__   ___  ___| |_| |______ _  _____  _____  ___
    | |/ / | | | '_ \ / _ \/ __| __| |______| |/ _ \ \/ / _ \/ __|
    |   <| |_| | |_) |  __/ (__| |_| |      | |  __/>  <  __/ (__
    |_|\_\\__,_|_.__/ \___|\___|\__|_|      |_|\___/_/\_\___|\___|

    (kubectl remote shell)

    Kubectl-iexec interactively selects a pod to perform `kubectl exec` commands

    Arg[1] will act as a filter, any pods that match will be returned in a list
    that the user can select from. Subsequent args make up the array of commands that
    should be executed on the pod.