apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: prune
spec:
  version: v0.1.0
  platforms:
  - selector:
      matchExpressions:
      - {key: os, operator: In, values: [darwin, linux]}
    uri: https://github.com/thecloudnatives/kubectl-plugins/archive/v0.1.0.zip
    sha256: 563d17508b37f56d668c2942922568cbaa014557651e69aedfcb8afda5a5f32c
    files:
    - from: kubectl-plugins-*/prune/kubectl-prune.sh
      to: kubectl-prune
    bin: ./kubectl-prune
  shortDescription: Prune secret/configmap resources from a given namespace
  description: |
    Delete secrets or configmaps that are not being used in a given namespace.
    It checks mounted volumes, env, envFrom and imagePullSecrets.
  caveats: |
    Usage:
      kubectl prune (secrets|configmaps) <namespace>

    Read the documentation at:
      https://github.com/thecloudnatives/kubectl-plugins
  homepage: https://github.com/thecloudnatives/kubectl-plugins
