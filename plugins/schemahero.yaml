apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: schemahero
spec:
  version: v0.10.1
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/schemahero/schemahero/releases/download/v0.10.1/kubectl-schemahero_linux_amd64.tar.gz
    sha256: 25acc5597bb974c0be2443d6b9ad4eea4f527447dcd0b2cb7a595c6d5f6b376d
    files:
    - from: kubectl-schemahero
      to: .
    - from: LICENSE
      to: .
    bin: kubectl-schemahero
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/schemahero/schemahero/releases/download/v0.10.1/kubectl-schemahero_darwin_amd64.tar.gz
    sha256: 4d74fca2697bbb5b9795e2572640218b2d7e4c31ba97c658cc622af5af1c6f8f
    files:
    - from: kubectl-schemahero
      to: .
    - from: LICENSE
      to: .
    bin: kubectl-schemahero
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/schemahero/schemahero/releases/download/v0.10.1/kubectl-schemahero_windows_amd64.tar.gz
    sha256: 77bf3bdda6df530e518097fbe6dd3ba1de2d9fde9897c26bad2faa5baccb2567
    files:
    - from: kubectl-schemahero.exe
      to: .
    - from: LICENSE
      to: .
    bin: kubectl-schemahero.exe
  shortDescription: Declarative database schema migrations via YAML
  homepage: https://schemahero.io
  caveats: |
    SchemaHero requires an in-cluster operator. To install the operator run:

      $ kubectl schemahero install
  description: |
    SchemaHero is a database schema migration tool that converts a schema
    definition into migration scripts to be applied to a database engine
    (with current support for Postgres, Mysql and CockroachDB).

    SchemaHero allows developers to define a database table schema as a
    declarative Kubernetes object and then apply the definition to the
    cluster. The SchemaHero operator will then query the current database
    schema and generate (and optionally apply) the necessary SQL
    statements to update the database to the desired schema.

    To learn more, try the tutorial at https://schemahero.io/tutorial/
