apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: view-secret
spec:
  version: "v0.2.0"
  homepage: https://github.com/elsesiy/kubectl-view-secret
  shortDescription: |
    Decode Kubernetes secrets
  description: |+2
    Base64 decode by key or all key/value pairs in a given secret.

    $ kubectl view-secret <secret> # print secret keys
    $ kubectl view-secret <secret> <key> # decode secret by key
    $ kubectl view-secret <secret> -a/--all # decode all secret contents
    $ kubectl view-secret <secret> -n/--namespace foo # print keys for secret in different namespace
  platforms:
    - selector:
        matchLabels:
          os: darwin
          arch: amd64
      uri: https://github.com/elsesiy/kubectl-view-secret/releases/download/v0.2.0/kubectl-view-secret_0.2.0_Darwin_x86_64.tar.gz
      sha256: "46d5fa2dadbdf13d1a470263fe75a4c6e4b061cfd383ab4642e8786206334f3d"
      files:
        - from: kubectl-view-secret
          to: .
      bin: kubectl-view-secret
    - selector:
        matchLabels:
          os: linux
          arch: amd64
      uri: https://github.com/elsesiy/kubectl-view-secret/releases/download/v0.2.0/kubectl-view-secret_0.2.0_Linux_x86_64.tar.gz
      sha256: "ac24776dd1170b78280445cac7562d3d4f5c984cedb613daef8cb1b0b934f442"
      files:
        - from: kubectl-view-secret
          to: .
      bin: kubectl-view-secret
    - selector:
        matchLabels:
          os: windows
          arch: amd64
      uri: https://github.com/elsesiy/kubectl-view-secret/releases/download/v0.2.0/kubectl-view-secret_0.2.0_Windows_x86_64.tar.gz
      sha256: "bac09b27a02738892d90199a2a3659d7fed5b6f43ac6f8dcd06e2ab9415293fb"
      files:
        - from: kubectl-view-secret.exe
          to: .
      bin: kubectl-view-secret.exe
