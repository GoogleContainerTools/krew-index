apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: whoami
spec:
  version: v0.0.34
  homepage: https://github.com/rajatjindal/kubectl-whoami
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/rajatjindal/kubectl-whoami/releases/download/v0.0.34/kubectl-whoami_v0.0.34_darwin_amd64.tar.gz
    sha256: 6e7d6b8c463de19bb687205a08ec595d5fd5e2a4a43d40fe2b7d192e33388b15
    files:
    - from: "*"
      to: "."
    bin: kubectl-whoami
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/rajatjindal/kubectl-whoami/releases/download/v0.0.34/kubectl-whoami_v0.0.34_linux_amd64.tar.gz
    sha256: 3d5fbb0eb907ac1fae40db00b678080e88af950b1ae47d7527c84cdea0769001
    files:
    - from: "*"
      to: "."
    bin: kubectl-whoami
  shortDescription: Show the subject that's currently authenticated as.
  caveats: |
    This plugin has only been tested with RBAC token, ServiceAccount token, and BasicAuth. 
    
    It will be great if we can get volunteers to test it with other Auth providers.
    
    Read the documentation at:
      https://github.com/rajatjindal/kubectl-whoami
  description: |
    This plugin show the subject that's currently authenticated as.

